<!DOCTYPE HTML>
<html>

	<script>
	
		function preloadImages(sources, callback) {
			let count = 0;
			sources.forEach(function(elem) {
				let img = document.createElement('img');
				img.src = elem;
				img.onload = function() { count++; if(count == sources.length) callback(); };
			})   
		}
		
		let sources = [
			"https://js.cx/images-load/1.jpg",
			"https://js.cx/images-load/2.jpg",
			"https://js.cx/images-load/3.jpg"
		];
		for (let i = 0; i < sources.length; i++) { sources[i] += '?' + Math.random(); }

		function testLoaded() {
			let widthSum = 0;
			for (let i = 0; i < sources.length; i++) {
				let img = document.createElement('img');
				img.src = sources[i];
				widthSum += img.width;
			}
			console.log(widthSum);
			alert(widthSum/100);
		}

		preloadImages(sources, testLoaded);
 
	</script>
	
</html>
